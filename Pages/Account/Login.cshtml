@page
@model LoginModel
@inject Microsoft.AspNetCore.Mvc.Localization.IViewLocalizer Localizer

<div class="infocontainer">
    <h2>@Localizer["Login"]</h2>

    <!-- Загальні помилки (невірний пароль, не підтверджений email тощо) -->
    <div asp-validation-summary="All" class="text-danger"></div>

    <form method="post" id="loginForm">
        <div class="form-group">
            <label for="Input_Email">@Localizer["Email"]</label>
            <input asp-for="Input.Email" class="form-control" id="Input_Email" />
            <span asp-validation-for="Input.Email" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label for="Input_Password">@Localizer["Password"]</label>
            <input asp-for="Input.Password" class="form-control" type="password" />
            <span asp-validation-for="Input.Password" class="text-danger"></span>
        </div>
        <button type="submit" class="btn btn-melody">@Localizer["Login"]</button>
    </form>

    <form method="post" asp-page-handler="RecoverPassword" id="recoverForm" class="mt-2">
        <input type="hidden" id="recoverEmail" name="Input.Email" />
        <button type="submit" class="btn btn-melody">@Localizer["ForgotPassword"]</button>
    </form>

    <form method="post" asp-page-handler="SignIn" id="signInForm" class="mt-2">
        <button type="submit" class="btn btn-melody">@Localizer["Register"]</button>
    </form>
</div>

<partial name="_ValidationScriptsPartial" />

@section Scripts {
    <script>
        document.getElementById('recoverForm').addEventListener('submit', function () {
            var email = document.getElementById('Input_Email').value;
            document.getElementById('recoverEmail').value = email;
        });
    </script>
}
